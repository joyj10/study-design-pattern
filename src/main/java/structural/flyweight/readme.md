# 플라이웨이트 패턴
- 공유를 위해 사용하는 패턴
- 어떤 클래스의 인스턴스 하나로 여러 개의 ‘가상 인스턴스’를 제공하고 싶다면 플라이웨이트 패턴 사용 가능
- 규모가 작고, 인스턴스 마다 특성이 따로 없다면 공유해서 사용할 수 있음

## 특징
- 공유를 통하여 인스턴스의 수를 절약
- 인스턴스마다의 특성이 거의 없는 객체에 사용하면 효율적으로 사용 가능
    - 부가적인 정보가 많은 경우는 비효율적일 수 있음
- 객체를 재사용하여 메모리를 절약하는 것이 목적
- 공유 되는 객체는 불변 객체여야만 함

## 장점
- 실행 시에 객체 인스턴스의 개수를 줄여서 메모리를 절약할 수 있음
- 여러 ‘가상’ 객체의 상태를 한곳에 모아 둘 수 있음
- 객체의 일관성을 유지하면서 유연성을 높일 수 있음

## 단점
- 일단 이 패턴을 써서 구현해 놓으면 특정 인스턴스만 다른 인스턴스와 다르게 행동하게 할 수 없다는 단점이 있음
- 공유하는 상태 관리 위한 추가 로직 필요
- 객체의 공유로 인해 상태 변경 시 다른 객체에게 영향을 줄 수 있으므로 주의 필요

## 활용
- 시스템에 많은 수의 불변 객체가 있는 경우 플라이웨이트 패턴을 사용해서 객체를 플라이웨이트로 설계하고 메모리에 하나의 인스턴스만 보관할 수 있음
    - 꼭 동일 객체가 아니여도 유사도가 높은 객체에 대해 동일한 필드를 추출하여 플라이웨이트로 설계 가능
- 어떤 클래스의 인스턴스가 아주 많이 필요하지만 모두 똑같은 방식으로 제어해야 할 때 유용하게 쓰임
- 작은 여러개의 객체를 관리해야 할 때 주로 사용
- 예) 각 단어를 각각 표현하기보다는 문자를 공유하여 표현하면 비용이 훨씬 적게 소요됨
    - 각 객체가 부가적인 상태(글꼴 등…)이 있다면 따로 관리해야 하는 경우가 있음

## 예제
텍스트 편집기에서 글자 스타일링을 처리하는 예시
- TextStyleFactory: 플라이웨이트 객체를 생성하고 관리하는 팩토리 클래스, 일한 스타일을 가진 객체가 이미 존재한다면 해당 객체를 반환하고, 그렇지 않은 경우 새로운 객체를 생성하여 반환
- TextStyle: 텍스트의 스타일을 나타내는 플라이웨이트 객체 클래스
- Main: 텍스트에 스타일 적용하는 클라이언트 클래스
